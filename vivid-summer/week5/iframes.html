<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>Playing with Iframes</title>
        
        <script>
            function go() {
                
                //the iframe starts off pointing to a local file
                
                console.log("iframe object and src property:");
                var myFrameDomObject = document.getElementById("myIframe");
                console.log("iframe object: ", myFrameDomObject);
                console.log("iframe src: ", myFrameDomObject.src, "\n\n");
                
                console.log("window object and location property:");
                var myFrameWindow = window.frames['myIframe'];
                console.log("window object: ", myFrameWindow);
                console.log(window.frames['myIframe'].location.href, "\n\n");
            }
            
            function handleFrameLoad() {
                //when the iframe has loaded a local resource you can access the location property.
                //when it loads a resource in a different domain permission is denied
                console.log('\n\nIFRAME ONLOAD. location: ');
                console.log(window.frames['myIframe'].location.href);
                
            }
            
            function loadUrl(url) {
                var myFrameWindow = window.frames['myIframe'];
                myFrameWindow.location = url;
            }
        </script>
	</head>
	<body onload="go();">
	    
        <button onclick="loadUrl('http://www.google.com')">Load Google.com</button><br/>
        <button onclick="loadUrl('http://127.0.0.1/~lorien234/javascript_class_week5/iframe_local.html')">Load http://127.0.0.1/~lorien234/javascript_class_week5/iframe_local.html</button><br/>
        <button onclick="loadUrl('http://localhost/~lorien234/javascript_class_week5/iframe_local.html')">Load http://localhost/~lorien234/javascript_class_week5/iframe_local.html</button><br/>
	    
        <iframe name="myIframe" id="myIframe" src="iframe_local.html" onload="handleFrameLoad()"></iframe>
	</body>
</html>
